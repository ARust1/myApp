<ion-header>

  <ion-navbar>
    <ion-title>{{ eventData.name }}</ion-title>
    <ion-buttons *ngIf="userData.admin" end>
      <button ion-button (click)="updateEvent()">bearbeiten</button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>

    <ion-grid>
      <ion-row *ngIf="inviteList">
        <ion-list class="option-list">
          <ion-item *ngIf="inviteData">
            <ion-row>
              <ion-col col-6>
                <button *ngIf="inviteData.participation === 0 || inviteData.participation === 1"
                        ion-button block outline (click)="acceptInvite()" class="custom">zusagen</button>
                <button *ngIf="inviteData.participation === 2"
                        ion-button block>zugesagt</button>
              </ion-col>
              <ion-col col-6>
                <button *ngIf="inviteData.participation === 0 || inviteData.participation === 2"
                        ion-button block outline (click)="declineInvite()">absagen</button>
                <button *ngIf="inviteData.participation === 1"
                        ion-button block>abgesagt</button>
              </ion-col>
            </ion-row>
          </ion-item>
        </ion-list>
      </ion-row>

        <ion-list class="statistic" *ngIf="inviteList">
          <ion-list-header>
            <span>Statistik</span>
            <button (click)="goToParticipations()" style="display: flex;">
              <ion-badge>{{ badgeCount }}</ion-badge>
              <span style="align-self: center; color:#567add !important;">Teilnehmer</span>
              <ion-icon style="align-self: center;margin-left: 5px;" name="ios-arrow-forward-outline"></ion-icon>
            </button>
          </ion-list-header>
          <ion-item>
            <ion-label>Zusagen</ion-label>
            <<ion-note item-end>{{participationCount}}/{{inviteList.length}}</ion-note>
          </ion-item>
          <ion-item>
            <ion-label>Absagen</ion-label>
            <ion-note item-end>{{declinedCount}}/{{inviteList.length}}</ion-note>
          </ion-item>
          <ion-item>
            <ion-label>Bezahlt</ion-label>
            <ion-note item-end>{{paidCount}}/{{inviteList.length}}</ion-note>
          </ion-item>
        </ion-list>

      <ion-list class="details" *ngIf="inviteList">
        <ion-list-header>
          Details
        </ion-list-header>
        <ion-item>
          <ion-label>Ausflug</ion-label>
          <<ion-note item-end>{{eventData.name}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label>Ort</ion-label>
          <ion-note item-end>{{eventData.location}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label>Anfang</ion-label>
          <ion-note item-end>{{eventData.startDate}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label>Ende</ion-label>
          <ion-note item-end>{{eventData.endDate}}</ion-note>
        </ion-item>
        <ion-item>
          <ion-label>Preis</ion-label>
          <ion-note item-end>{{eventData.sum}} â‚¬</ion-note>
        </ion-item>
      </ion-list>

    </ion-grid>

  <div class="btn-container" *ngIf="inviteList && inviteData">
    <button *ngIf="inviteData.participation === 2" ion-button block color="blue" (click)="payEvent()">
      <span>Bezahlen</span>
    </button>
  </div>
</ion-content>
